<ion-view view-title="{{ 'tab.community' | translate }}">
<ion-content>
    <ion-refresher
            pulling-text="{{ 'pull_to_refresh' | translate }}"
            on-refresh="refresh()">
    </ion-refresher>
        <ion-list>
            <ion-item class="item-remove-animate item-thumbnail-left item-icon-right" type="item-text-wrap"
                      ng-repeat="community in communitys" ng-click="read(community.id)" href="#/tab/community/{{ community.id }}">
                <img ng-src="../img/{{ community.img }}">
                <h2>{{ community.name }}</h2>
                <p>   </p>
                <p ng-show="status(community.id)">Joined</p>
                <i class="icon ion-person-add icon-accessory" ng-hide="joined(community.id)" ng-click="joinCom(community.id)">Join</i>
                <span class="badge badge-assertive" style="margin-top: 2%" ng-hide="(hasRead(community.id) || !joined(community.id))" ng-click="read(community.id)">1</span>
                <i class="icon ion-chevron-right icon-accessory" ng-show="(hasRead(community.id) && joined(community.id))"></i>
            </ion-item>

        </ion-list>
    </ion-content>
</ion-view>
